<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="{{ path('homepage') }}">ToDo-List</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">

            {% if app.user %}
                <li class="nav-item float-right">
                    <a class="nav-link " href="{{ path('task_user_list') }}">Mes tâches</a>
                </li>
                <li class="nav-item float-right">
                    <a class="nav-link " href="{{ path('task_done_list') }}">Tâches réalisées</a>
                </li>
                <li class="nav-item float-right">
                    <a class="nav-link " href="{{ path('task_list') }}">Toutes les tâches</a>
                </li>

            {% endif %}

        </ul>

        {% if app.user.roles is defined and app.user.roles == ["ROLE_ADMIN"] %}

            <div class="dropdown float-right mr-3">
                <a class="btn btn-sm btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Administration
                </a>

                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <a class="dropdown-item " href="{{ path('user_create') }}"> <i class="fas fa-plus"></i> Ajout User</a>
                    <a class="dropdown-item" href="{{ path('users_show') }}">  <i class="fas fa-list"></i> Liste Users</a>
                </div>
            </div>

        {% endif %}

        {% if not app.user %}
            <div class="nav-item ">
                <a type="button" data-backdrop="static" class=" btn btn-sm btn-primary text-white" data-toggle="modal"
                   data-target="#connexion">
                    Connexion
                </a>
            </div>
        {% else %}
            <div class="nav-item">
                <a href="{{ path('account_logout') }}" class="btn btn-sm btn-danger">Déconnexion</a>
            </div>
        {% endif %}

    </div>
</nav>
{% if hasError is defined and hasError %}
    <div class="alert alert-danger container mt-2">Le nom d'utilisateur ou le mot de passe est invalide !</div>
{% endif %}
{% for label,messages in app.flashes %}
    <div class="container  text-center">
        <div class="p-3 alert-{{label}}">
            {% for message in messages %}
            {{message | raw}}
            {% endfor %}
        </div>
    </div>
{% endfor %}
